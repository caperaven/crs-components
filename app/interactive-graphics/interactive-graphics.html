<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

<style>
    @import "/src/mdc/buttons/crs-icon-button.css";
    @import "/src/mdc/icons/crs-icon.css";
    @import "/src/mdc/toolbars/crs-toolbar.css";
    @import "/src/mdc/buttons/crs-button.css";
    @import "/src/mdc/modals/crs-popup.css";
    @import "/src/mdc/lists/crs-list.css";
</style>

<style>
    crs-router {
        padding: 0;
    }

    .form {
        display: grid;
        grid-template-rows: 3rem 1fr;
        grid-template-columns: 15rem 1fr 15rem;
        width: 100%;
        height: 100%;
    }

    .crs-toolbar {
        grid-column: 1 / 4;
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 0;
    }

    .crs-toolbar h2 {
        margin: 0;
        padding: 0;
        flex: 1;
    }

    .canvas-parent {
        grid-column: 2;
        grid-row:2;
        border-left: solid 1px var(--crs-border);
    }

    .properties {
        border-left: solid 1px var(--crs-border);
        grid-row: 2;
        grid-column: 3;
        padding: 0.5rem;
    }

    .properties h2 {
        padding: 0;
        margin: 0 0 1rem 0;
    }

    .properties input[type="color"], .properties input[type="number"], .properties select {
        width: 100%;
        height: 2rem;
    }

    .properties label {
        display:block;
        margin-bottom: 1rem;
    }

</style>
<div class="form">
    <div class="crs-toolbar underline">
        <h2>POC Interactive Graphics</h2>

        <button click.call="refresh">refresh</button>

        <button click.call="state_select">select</button>
        <button click.call="state_rectangle">rectangle</button>
        <button click.call="state_circle">circle</button>
        <button click.call="state_polygon">polygon</button>
        <button>color</button>
    </div>
    <div class="canvas-parent"></div>
    <div class="properties">
        <perspective-element id="properties-panel" data-store="ig-properties" view.bind="none" context.once="context">
            <template data-id="none" data-default="true">
                <div>No Properties</div>
            </template>

            <template data-id="pen">
                <h2>Type</h2>
                <label>
                    <div>Type</div>
                    <select value.bind="penType">
                        <option value="polygon">Polygon</option>
                        <option value="pen">Pen</option>
                    </select>
                </label>

                <div hidden.if="penType != 'pen'">
                    <label>
                        <div>Draw Operation</div>
                        <select value.bind="drawOperation">
                            <option value="continues">Continues</option>
                            <option value="single">Single</option>
                        </select>
                    </label>
                </div>

                <div hidden.if="penType == 'pen'">
                    <h2>Fill</h2>
                    <label>
                        <input type="checkbox" checked.bind="fillEnabled">
                        <span>Enabled</span>
                    </label>

                    <label>
                        <div>Color</div>
                        <input type="color" value.bind="fillColor">
                    </label>
                </div>

                <h2>Stroke</h2>

                <label>
                    <input type="checkbox" checked.bind="strokeEnabled">
                    <span>Enabled</span>
                </label>

                <label>
                    <div>Color</div>
                    <input type="color" value.bind="strokeColor">
                </label>

                <label>
                    <div>Type</div>
                    <select value.bind="strokeType">
                        <option value="solid">Solid</option>
                        <option value="dotted">Dotted</option>
                    </select>
                </label>

                <label>
                    <div>Width</div>
                    <input type="number" value.bind="strokeWidth">
                </label>

                <div hidden.if="strokeType != 'solid'">
                    <label>
                        <div>Joint</div>
                        <select value.bind="strokeJoint">
                            <option value="miter">Miter</option>
                            <option value="round">Round</option>
                            <option value="bevel">Bevel</option>
                        </select>
                    </label>
                </div>

                <div hidden.if="strokeType != 'dotted'">
                    <label>
                        <div>Image</div>
                        <select value.bind="image">
                            <option value="home">Home</option>
                            <option value="arrow_top">Arrow</option>
                        </select>
                    </label>
                    <label>
                        <div>X Scale</div>
                        <input type="number" value.bind="xScale">
                    </label>
                    <label>
                        <div>Y Scale</div>
                        <input type="number" value.bind="yScale">
                    </label>
                    <label>
                        <div>Gap</div>
                        <input type="number" value.bind="gap">
                    </label>
                    <label>
                        <div>Rotation</div>
                        <input type="number" value.bind="rotation">
                    </label>
                </div>

            </template>
        </perspective-element>
    </div>
</div>